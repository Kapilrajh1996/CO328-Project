{"remainingRequest":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\src\\components\\DoctorBookingTable.vue?vue&type=style&index=0&id=62fbc9e4&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\src\\components\\DoctorBookingTable.vue","mtime":1596870212140},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgovKiBDaGFuZ2UgY3Vyc29yIHR5cGUgKi8KLmN1cnNvcl90eXBlIHsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jYW5jZWxfYnV0dG9uIHsKICBtYXJnaW4tdG9wOiAxNHB4OwogIG1hcmdpbi1ib3R0b206IDEycHg7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBhZGRpbmc6IDNweCAyMHB4OwogIGZvbnQtZmFtaWx5OiBNb250c2VycmF0LVJlZ3VsYXI7CiAgZm9udC1zaXplOiAxNHB4OwogIGxpbmUtaGVpZ2h0OiAxLjQ7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgb3V0bGluZTogbm9uZTsKICBjb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpOwogIGJhY2tncm91bmQtY29sb3I6ICNlNjEyMTI7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgYm94LXNoYWRvdzogMCA1cHggIzk5OTsKfQoKLmNhbmNlbF9idXR0b246aG92ZXIge2JhY2tncm91bmQtY29sb3I6ICM5NjE0MWZ9CgouY2FuY2VsX2J1dHRvbjphY3RpdmUgewogIGJhY2tncm91bmQtY29sb3I6ICM5NjE0MWY7CiAgYm94LXNoYWRvdzogMCAzcHggIzY2NjsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMnB4KTsKfQo="},{"version":3,"sources":["DoctorBookingTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"DoctorBookingTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div id=\"doctorbookingtable\">\r\n    <!-- <div class=\"limiter\"> -->\r\n      <!-- <div class=\"container-table100\"> -->\r\n        <div class=\"wrap-table100\">\r\n          <div class=\"table100 ver1 m-b-10\">\r\n            <table data-vertable=\"ver1\">\r\n              <thead>\r\n                <tr class=\"row100 head\">\r\n                  <th class=\"column100 column1\" data-column=\"column1\">ID</th>\r\n                  <th class=\"column100 column2\" data-column=\"column2\">Patient Name</th>\r\n                  <th class=\"column100 column3\" data-column=\"column3\">Date</th>\r\n                  <th class=\"column100 column4\" data-column=\"column4\">Time</th>\r\n                  <th class=\"column100 column5\" data-column=\"column5\">E-mail</th>\r\n                  <th class=\"column100 column6\" data-column=\"column6\">Phone</th>\r\n                  <th class=\"column100 column7\" data-column=\"column7\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"row100\" v-for=\"(booking, index) in bookings\" :key=\"index\">\r\n                  <td class=\"column100 column1\" data-column=\"column1\">{{index}}</td>\r\n                  <td class=\"column100 column2\" data-column=\"column2\">{{booking.name}}</td>\r\n                  <td class=\"column100 column3\" data-column=\"column3\">{{booking.date}}</td>\r\n                  <td class=\"column100 column4\" data-column=\"column4\">{{booking.time}}</td>\r\n                  <td class=\"column100 column5\" data-column=\"column5\">{{booking.email}}</td>\r\n                  <td class=\"column100 column6\" data-column=\"column6\">{{booking.contact_no}}</td>\r\n                  <button type=\"button\" class=\"cancel_button\" v-on:click=\"cancel_appointment(booking.bookingID)\">Cancel</button>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      <!-- </div> -->\r\n    <!-- </div> -->\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// import router from '../router'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'DoctorBookingTable',\r\n  data () {\r\n    return {\r\n      doctor_id: '',\r\n\r\n      bookings: {}\r\n    }\r\n  },\r\n  beforeCreate: function () {\r\n    document.body.classList.add('doctorbookingtable')\r\n  },\r\n  created () {\r\n    this.doctor_id = this.$route.params.id\r\n    this.get_bookings()\r\n  },\r\n  mounted: function () {\r\n    this.$root.$on('updateDoctorBookingTable', (text) => { // here you need to use the arrow function\r\n      // console.log(text)\r\n      this.get_bookings()\r\n    })\r\n  },\r\n  methods: {\r\n    get_bookings: async function () {\r\n      const currentObject = this\r\n      await axios.get('http://localhost:8080/Project/REST-API/doctor/' + this.doctor_id + '/bookings')\r\n        .then(response => {\r\n          // eslint-disable-next-line eqeqeq\r\n          if (response.data != '') {\r\n            this.bookings = response.data\r\n            // console.log(response.data)\r\n          } else {\r\n            // console.log('null')\r\n            this.bookings = response.data\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          currentObject.serverError = true\r\n          if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data)\r\n            console.log(error.response.status)\r\n            console.log(error.response.headers)\r\n            currentObject.serverErrorMessage = error.response.data.message\r\n          } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request)\r\n          } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message)\r\n          }\r\n          console.log(error.config)\r\n        })\r\n    },\r\n    cancel_appointment: async function (bookingid) {\r\n      const currentObject = this\r\n      await axios.delete('http://localhost:8080/Project/REST-API/doctor/' + this.doctor_id + '/deletebooking/' + bookingid)\r\n        .then(response => {\r\n          // eslint-disable-next-line eqeqeq\r\n          if (response.data == 'Booking Cancelled Successfully') {\r\n            this.get_bookings()\r\n            alert(response.data)\r\n            this.$root.$emit('updateUserBookingTable', 'Booked Successful')\r\n          } else {\r\n            alert(response.data)\r\n            this.get_bookings()\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          currentObject.serverError = true\r\n          if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data)\r\n            console.log(error.response.status)\r\n            console.log(error.response.headers)\r\n            currentObject.serverErrorMessage = error.response.data.message\r\n          } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request)\r\n          } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message)\r\n          }\r\n          console.log(error.config)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  /* Change cursor type */\r\n  .cursor_type {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .cancel_button {\r\n    margin-top: 14px;\r\n    margin-bottom: 12px;\r\n    display: inline-block;\r\n    padding: 3px 20px;\r\n    font-family: Montserrat-Regular;\r\n    font-size: 14px;\r\n    line-height: 1.4;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    outline: none;\r\n    color: rgb(255, 255, 255);\r\n    background-color: #e61212;\r\n    border: none;\r\n    border-radius: 15px;\r\n    box-shadow: 0 5px #999;\r\n  }\r\n\r\n  .cancel_button:hover {background-color: #96141f}\r\n\r\n  .cancel_button:active {\r\n    background-color: #96141f;\r\n    box-shadow: 0 3px #666;\r\n    transform: translateY(2px);\r\n  }\r\n</style>\r\n\r\n<style src=\"../../static/css/table.css\" scoped>\r\n</style>\r\n"]}]}
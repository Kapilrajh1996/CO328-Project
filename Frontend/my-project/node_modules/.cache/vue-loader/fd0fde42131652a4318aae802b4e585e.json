{"remainingRequest":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\src\\components\\UserBookingTable.vue?vue&type=style&index=0&id=72a15ae0&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\src\\components\\UserBookingTable.vue","mtime":1597254665895},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Final\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8qIENoYW5nZSBjdXJzb3IgdHlwZSAqLwouY3Vyc29yX3R5cGUgewogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmNhbmNlbF9idXR0b24gewogIG1hcmdpbi10b3A6IDE0cHg7CiAgbWFyZ2luLWJvdHRvbTogMTJweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgcGFkZGluZzogM3B4IDIwcHg7CiAgZm9udC1mYW1pbHk6IE1vbnRzZXJyYXQtUmVndWxhcjsKICBmb250LXNpemU6IDE0cHg7CiAgbGluZS1oZWlnaHQ6IDEuNDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICBvdXRsaW5lOiBub25lOwogIGNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7CiAgYmFja2dyb3VuZC1jb2xvcjogI2U2MTIxMjsKICBib3JkZXI6IG5vbmU7CiAgYm9yZGVyLXJhZGl1czogMTVweDsKICBib3gtc2hhZG93OiAwIDVweCAjOTk5Owp9CgouY2FuY2VsX2J1dHRvbjpob3ZlciB7YmFja2dyb3VuZC1jb2xvcjogIzk2MTQxZn0KCi5jYW5jZWxfYnV0dG9uOmFjdGl2ZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzk2MTQxZjsKICBib3gtc2hhZG93OiAwIDNweCAjNjY2OwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgycHgpOwp9Cg=="},{"version":3,"sources":["UserBookingTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"UserBookingTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div id=\"userbookingtable\">\r\n    <!-- <div class=\"limiter\"> -->\r\n      <!-- <div class=\"container-table100\"> -->\r\n        <div class=\"wrap-table100\">\r\n          <div class=\"table100 ver1 m-b-10\">\r\n            <table data-vertable=\"ver1\">\r\n              <thead>\r\n                <tr class=\"row100 head\">\r\n                  <th class=\"column100 column1\" data-column=\"column1\">ID</th>\r\n                  <th class=\"column100 column2\" data-column=\"column2\" style=\"width: 30%;\">Doctor Name</th>\r\n                  <th class=\"column100 column3\" data-column=\"column3\">Date</th>\r\n                  <th class=\"column100 column4\" data-column=\"column4\">Time</th>\r\n                  <th class=\"column100 column7\" data-column=\"column7\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"row100\" v-for=\"(booking, index) in bookings\" :key=\"index\">\r\n                  <td class=\"column100 column1\" data-column=\"column1\">{{index}}</td>\r\n                  <td class=\"column100 column2\" data-column=\"column2\">{{booking.name}}</td>\r\n                  <td class=\"column100 column3\" data-column=\"column3\">{{booking.date}}</td>\r\n                  <td class=\"column100 column4\" data-column=\"column4\">{{booking.time}}</td>\r\n                  <button type=\"button\" class=\"cancel_button\" v-on:click=\"cancel_appointment(booking.bookingID)\">Cancel</button>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      <!-- </div> -->\r\n    <!-- </div> -->\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// import router from '../router'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserBookingTable',\r\n  data () {\r\n    return {\r\n      user_id: '',\r\n\r\n      bookings: {}\r\n    }\r\n  },\r\n  beforeCreate: function () {\r\n    document.body.classList.add('userbookingtable')\r\n  },\r\n  created () {\r\n    this.user_id = this.$route.params.id\r\n    this.get_bookings()\r\n  },\r\n  mounted: function () {\r\n    this.$root.$on('updateUserBookingTable', (text) => { // here you need to use the arrow function\r\n      // console.log(text)\r\n      this.get_bookings()\r\n    })\r\n  },\r\n  methods: {\r\n    get_bookings: async function () {\r\n      const currentObject = this\r\n      await axios.get('http://localhost:8080/Project/REST-API/user/' + this.user_id + '/bookings')\r\n        .then(response => {\r\n          // eslint-disable-next-line eqeqeq\r\n          if (response.data != '') {\r\n            this.bookings = response.data\r\n            // console.log(response.data)\r\n          } else {\r\n            // console.log('null')\r\n            this.bookings = response.data\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          currentObject.serverError = true\r\n          if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data)\r\n            console.log(error.response.status)\r\n            console.log(error.response.headers)\r\n            currentObject.serverErrorMessage = error.response.data.message\r\n          } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request)\r\n          } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message)\r\n          }\r\n          console.log(error.config)\r\n        })\r\n    },\r\n    cancel_appointment: async function (bookingid) {\r\n      const currentObject = this\r\n      await axios.delete('http://localhost:8080/Project/REST-API/user/' + this.user_id + '/deletebooking/' + bookingid)\r\n        .then(response => {\r\n          // eslint-disable-next-line eqeqeq\r\n          if (response.data == 'Booking Cancelled Successfully') {\r\n            this.get_bookings()\r\n            alert(response.data)\r\n            this.$root.$emit('updateDoctorBookingTable', 'Booked Successful')\r\n          } else {\r\n            alert(response.data)\r\n            this.get_bookings()\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          currentObject.serverError = true\r\n          if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data)\r\n            console.log(error.response.status)\r\n            console.log(error.response.headers)\r\n            currentObject.serverErrorMessage = error.response.data.message\r\n          } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request)\r\n          } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message)\r\n          }\r\n          console.log(error.config)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  /* Change cursor type */\r\n  .cursor_type {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .cancel_button {\r\n    margin-top: 14px;\r\n    margin-bottom: 12px;\r\n    display: inline-block;\r\n    padding: 3px 20px;\r\n    font-family: Montserrat-Regular;\r\n    font-size: 14px;\r\n    line-height: 1.4;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    outline: none;\r\n    color: rgb(255, 255, 255);\r\n    background-color: #e61212;\r\n    border: none;\r\n    border-radius: 15px;\r\n    box-shadow: 0 5px #999;\r\n  }\r\n\r\n  .cancel_button:hover {background-color: #96141f}\r\n\r\n  .cancel_button:active {\r\n    background-color: #96141f;\r\n    box-shadow: 0 3px #666;\r\n    transform: translateY(2px);\r\n  }\r\n</style>\r\n<style src=\"../../static/css/table.css\" scoped>\r\n</style>\r\n"]}]}
{"remainingRequest":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\src\\components\\DoctorScheduleTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\src\\components\\DoctorScheduleTable.vue","mtime":1597165605404},{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcicNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnRG9jdG9yU2NoZWR1bGVUYWJsZScsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBkb2N0b3JfaWQ6ICcnLA0KDQogICAgICBzY2hlZHVsZXM6IHt9DQogICAgfQ0KICB9LA0KICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2RvY3RvcnNjaGVkdWxldGFibGUnKQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLmRvY3Rvcl9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZA0KICAgIHRoaXMuZ2V0X3NjaGVkdWxlcygpDQogIH0sDQogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsNCiAgICB0aGlzLiRyb290LiRvbigndXBkYXRlRG9jdG9yU2NoZWR1bGVUYWJsZScsICh0ZXh0KSA9PiB7IC8vIGhlcmUgeW91IG5lZWQgdG8gdXNlIHRoZSBhcnJvdyBmdW5jdGlvbg0KICAgICAgLy8gY29uc29sZS5sb2codGV4dCkNCiAgICAgIHRoaXMuZ2V0X3NjaGVkdWxlcygpDQogICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldF9zY2hlZHVsZXM6IGFzeW5jIGZ1bmN0aW9uICgpIHsNCiAgICAgIGNvbnN0IGN1cnJlbnRPYmplY3QgPSB0aGlzDQogICAgICBhd2FpdCBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9Qcm9qZWN0L1JFU1QtQVBJL2RvY3Rvci8nICsgdGhpcy5kb2N0b3JfaWQgKyAnL3NjaGVkdWxlcycpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxDQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gJycpIHsNCiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ251bGwnKQ0KICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXMgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICAgICAgY3VycmVudE9iamVjdC5zZXJ2ZXJFcnJvciA9IHRydWUNCiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGFuZCB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGEgc3RhdHVzIGNvZGUNCiAgICAgICAgICAgIC8vIHRoYXQgZmFsbHMgb3V0IG9mIHRoZSByYW5nZSBvZiAyeHgNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpDQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5zdGF0dXMpDQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5oZWFkZXJzKQ0KICAgICAgICAgICAgY3VycmVudE9iamVjdC5zZXJ2ZXJFcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UNCiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGJ1dCBubyByZXNwb25zZSB3YXMgcmVjZWl2ZWQNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlcXVlc3QpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIFNvbWV0aGluZyBoYXBwZW5lZCBpbiBzZXR0aW5nIHVwIHRoZSByZXF1ZXN0IHRoYXQgdHJpZ2dlcmVkIGFuIEVycm9yDQogICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3InLCBlcnJvci5tZXNzYWdlKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5jb25maWcpDQogICAgICAgIH0pDQogICAgfSwNCiAgICBjYW5jZWxfc2NoZWR1bGU6IGFzeW5jIGZ1bmN0aW9uIChzY2hlZHVsZWlkKSB7DQogICAgICBjb25zdCBjdXJyZW50T2JqZWN0ID0gdGhpcw0KICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKCdodHRwOi8vbG9jYWxob3N0OjgwODAvUHJvamVjdC9SRVNULUFQSS9kb2N0b3JzLycgKyB0aGlzLmRvY3Rvcl9pZCArICcvZGVsZXRlc2NoZWR1bGVzLycgKyBzY2hlZHVsZWlkKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxDQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gJ1NjaGVkdWxlIERlbGV0ZWQgU3VjY2Vzc2Z1bGx5Jykgew0KICAgICAgICAgICAgdGhpcy5nZXRfc2NoZWR1bGVzKCkNCiAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEpDQogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCd1cGRhdGVVc2VyQm9va2luZ1RhYmxlJywgJ1NjaGVkdWxlIGRlbGV0ZWQnKQ0KICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgndXBkYXRlRG9jdG9yU2NoZWR1bGVUYWJsZScsICdTY2hlZHVsZSBkZWxldGVkJykNCiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoJ3VwZGF0ZURvY3RvckJvb2tpbmdUYWJsZScsICdTY2hlZHVsZSBkZWxldGVkJykNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICAgIHRoaXMuZ2V0X3NjaGVkdWxlcygpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICAgICAgY3VycmVudE9iamVjdC5zZXJ2ZXJFcnJvciA9IHRydWUNCiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGFuZCB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGEgc3RhdHVzIGNvZGUNCiAgICAgICAgICAgIC8vIHRoYXQgZmFsbHMgb3V0IG9mIHRoZSByYW5nZSBvZiAyeHgNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpDQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5zdGF0dXMpDQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5oZWFkZXJzKQ0KICAgICAgICAgICAgY3VycmVudE9iamVjdC5zZXJ2ZXJFcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UNCiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGJ1dCBubyByZXNwb25zZSB3YXMgcmVjZWl2ZWQNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlcXVlc3QpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIFNvbWV0aGluZyBoYXBwZW5lZCBpbiBzZXR0aW5nIHVwIHRoZSByZXF1ZXN0IHRoYXQgdHJpZ2dlcmVkIGFuIEVycm9yDQogICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3InLCBlcnJvci5tZXNzYWdlKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5jb25maWcpDQogICAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["DoctorScheduleTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DoctorScheduleTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div id=\"doctorscheduletable\">\r\n    <!-- <div class=\"limiter\"> -->\r\n      <!-- <div class=\"container-table100\"> -->\r\n        <div class=\"wrap-table100\">\r\n          <div class=\"table100 ver1 m-b-10\">\r\n            <table data-vertable=\"ver1\">\r\n              <thead>\r\n                <tr class=\"row100 head\">\r\n                  <th class=\"column100 column1\" data-column=\"column1\">ID</th>\r\n                  <th class=\"column100 column3\" data-column=\"column3\">Date</th>\r\n                  <th class=\"column100 column4\" data-column=\"column4\">From</th>\r\n                  <th class=\"column100 column5\" data-column=\"column5\">To</th>\r\n                  <th class=\"column100 column7\" data-column=\"column7\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"row100\" v-for=\"(schedule, index) in schedules\" :key=\"index\">\r\n                  <td class=\"column100 column1\" data-column=\"column1\">{{index}}</td>\r\n                  <td class=\"column100 column3\" data-column=\"column3\">{{schedule.date}}</td>\r\n                  <td class=\"column100 column4\" data-column=\"column4\">{{schedule.from_time}}</td>\r\n                  <td class=\"column100 column5\" data-column=\"column5\">{{schedule.to_time}}</td>\r\n                  <button type=\"button\" class=\"cancel_button\" v-on:click=\"cancel_schedule(schedule.scheduleID)\">Cancel</button>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      <!-- </div> -->\r\n    <!-- </div> -->\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// import router from '../router'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'DoctorScheduleTable',\r\n  data () {\r\n    return {\r\n      doctor_id: '',\r\n\r\n      schedules: {}\r\n    }\r\n  },\r\n  beforeCreate: function () {\r\n    document.body.classList.add('doctorscheduletable')\r\n  },\r\n  created () {\r\n    this.doctor_id = this.$route.params.id\r\n    this.get_schedules()\r\n  },\r\n  mounted: function () {\r\n    this.$root.$on('updateDoctorScheduleTable', (text) => { // here you need to use the arrow function\r\n      // console.log(text)\r\n      this.get_schedules()\r\n    })\r\n  },\r\n  methods: {\r\n    get_schedules: async function () {\r\n      const currentObject = this\r\n      await axios.get('http://localhost:8080/Project/REST-API/doctor/' + this.doctor_id + '/schedules')\r\n        .then(response => {\r\n          // eslint-disable-next-line eqeqeq\r\n          if (response.data != '') {\r\n            this.schedules = response.data\r\n            // console.log(response.data)\r\n          } else {\r\n            // console.log('null')\r\n            this.schedules = response.data\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          currentObject.serverError = true\r\n          if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data)\r\n            console.log(error.response.status)\r\n            console.log(error.response.headers)\r\n            currentObject.serverErrorMessage = error.response.data.message\r\n          } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request)\r\n          } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message)\r\n          }\r\n          console.log(error.config)\r\n        })\r\n    },\r\n    cancel_schedule: async function (scheduleid) {\r\n      const currentObject = this\r\n      await axios.delete('http://localhost:8080/Project/REST-API/doctors/' + this.doctor_id + '/deleteschedules/' + scheduleid)\r\n        .then(response => {\r\n          // console.log(response.data)\r\n          // eslint-disable-next-line eqeqeq\r\n          if (response.data == 'Schedule Deleted Successfully') {\r\n            this.get_schedules()\r\n            alert(response.data)\r\n            this.$root.$emit('updateUserBookingTable', 'Schedule deleted')\r\n            this.$root.$emit('updateDoctorScheduleTable', 'Schedule deleted')\r\n            this.$root.$emit('updateDoctorBookingTable', 'Schedule deleted')\r\n          } else {\r\n            alert(response.data)\r\n            this.get_schedules()\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          currentObject.serverError = true\r\n          if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data)\r\n            console.log(error.response.status)\r\n            console.log(error.response.headers)\r\n            currentObject.serverErrorMessage = error.response.data.message\r\n          } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request)\r\n          } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message)\r\n          }\r\n          console.log(error.config)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  /* Change cursor type */\r\n  .cursor_type {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .cancel_button {\r\n    margin-top: 14px;\r\n    margin-bottom: 12px;\r\n    display: inline-block;\r\n    padding: 3px 20px;\r\n    font-family: Montserrat-Regular;\r\n    font-size: 14px;\r\n    line-height: 1.4;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    outline: none;\r\n    color: rgb(255, 255, 255);\r\n    background-color: #e61212;\r\n    border: none;\r\n    border-radius: 15px;\r\n    box-shadow: 0 5px #999;\r\n  }\r\n\r\n  .cancel_button:hover {background-color: #96141f}\r\n\r\n  .cancel_button:active {\r\n    background-color: #96141f;\r\n    box-shadow: 0 3px #666;\r\n    transform: translateY(2px);\r\n  }\r\n</style>\r\n\r\n<style src=\"../../static/css/table.css\" scoped>\r\n</style>\r\n"]}]}
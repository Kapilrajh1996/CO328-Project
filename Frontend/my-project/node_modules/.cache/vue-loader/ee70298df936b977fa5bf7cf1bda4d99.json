{"remainingRequest":"C:\\Users\\user\\Desktop\\Database Proj\\Client\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\Database Proj\\Client\\my-project\\src\\components\\Booking.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Client\\my-project\\src\\components\\Booking.vue","mtime":1592660734371},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Client\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Client\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Client\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Database Proj\\Client\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcicNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQm9va2luZycsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICB1c2VyX2lkOiAnJywNCiAgICAgIGRlcGFydG1lbnRzOiBbJ0dlbmVyYWwnLCAnQ2FyZGlvbG9naXN0JywgJ05ldXJvbG9naXN0J10sDQogICAgICBkb2N0b3JzOiBbXSwNCiAgICAgIHNjaGVkdWxlczogW10sDQogICAgICBib29raW5nOiB7DQogICAgICAgIGRlcGFydG1lbnQ6ICcnLA0KICAgICAgICBkb2N0b3I6ICcnLA0KICAgICAgICBkYXRlOiAnJywNCiAgICAgICAgdGltZTogJycsDQogICAgICAgIGNvbnRhY3Rfbm86ICcnLA0KICAgICAgICBlbWFpbDogJycNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gKCkgew0KICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYm9va2luZycpDQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMudXNlcl9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZA0KICAgIC8vIHRoaXMudXJsID0gJy4uLy4uL3N0YXRpYy9pbWcvZG9jdG9ycy82LnBuZycNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldERvY3RvcnM6IGFzeW5jIGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLmJvb2tpbmcuZGVwYXJ0bWVudCAhPT0gJycpIHsNCiAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvUHJvamVjdC9SRVNULUFQSS91c2VyLycgKyB0aGlzLnVzZXJfaWQgKyAnLycgKyB0aGlzLmJvb2tpbmcuZGVwYXJ0bWVudCkNCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgdGhpcy5kb2N0b3JzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgICAgLy8gY3VycmVudE9iamVjdC5zZXJ2ZXJFcnJvciA9IHRydWUNCiAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgew0KICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2FzIG1hZGUgYW5kIHRoZSBzZXJ2ZXIgcmVzcG9uZGVkIHdpdGggYSBzdGF0dXMgY29kZQ0KICAgICAgICAgICAgLy8gdGhhdCBmYWxscyBvdXQgb2YgdGhlIHJhbmdlIG9mIDJ4eA0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5zdGF0dXMpDQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmhlYWRlcnMpDQogICAgICAgICAgICAvLyAgIGN1cnJlbnRPYmplY3Quc2VydmVyRXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGJ1dCBubyByZXNwb25zZSB3YXMgcmVjZWl2ZWQNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVxdWVzdCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBTb21ldGhpbmcgaGFwcGVuZWQgaW4gc2V0dGluZyB1cCB0aGUgcmVxdWVzdCB0aGF0IHRyaWdnZXJlZCBhbiBFcnJvcg0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3InLCBlcnJvci5tZXNzYWdlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IuY29uZmlnKQ0KICAgICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBnZXREYXRlOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAodGhpcy5ib29raW5nLmRvY3Rvci5kb2N0b3JJRCAhPT0gJycpIHsNCiAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvUHJvamVjdC9SRVNULUFQSS9kb2N0b3IvJyArIHRoaXMudXNlcl9pZCArICcvJyArIHRoaXMuYm9va2luZy5kb2N0b3IuZG9jdG9ySUQpDQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgICAgLy8gY3VycmVudE9iamVjdC5zZXJ2ZXJFcnJvciA9IHRydWUNCiAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgew0KICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2FzIG1hZGUgYW5kIHRoZSBzZXJ2ZXIgcmVzcG9uZGVkIHdpdGggYSBzdGF0dXMgY29kZQ0KICAgICAgICAgICAgLy8gdGhhdCBmYWxscyBvdXQgb2YgdGhlIHJhbmdlIG9mIDJ4eA0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5zdGF0dXMpDQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmhlYWRlcnMpDQogICAgICAgICAgICAvLyAgIGN1cnJlbnRPYmplY3Quc2VydmVyRXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGJ1dCBubyByZXNwb25zZSB3YXMgcmVjZWl2ZWQNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVxdWVzdCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBTb21ldGhpbmcgaGFwcGVuZWQgaW4gc2V0dGluZyB1cCB0aGUgcmVxdWVzdCB0aGF0IHRyaWdnZXJlZCBhbiBFcnJvcg0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3InLCBlcnJvci5tZXNzYWdlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IuY29uZmlnKQ0KICAgICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBhZGRBcHBvaW50bWVudDogYXN5bmMgZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMuYm9va2luZy5kZXBhcnRtZW50ICYmIHRoaXMuYm9va2luZy5kb2N0b3IuZG9jdG9ySUQgJiYgdGhpcy5ib29raW5nLmRhdGUgJiYgdGhpcy5ib29raW5nLnRpbWUgJiYgdGhpcy5ib29raW5nLmVtYWlsKSB7DQogICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9Qcm9qZWN0L1JFU1QtQVBJL3VzZXIvJyArIHRoaXMudXNlcl9pZCArICcvYWRkYm9va2luZy8nICsgdGhpcy5ib29raW5nLmRvY3Rvci5kb2N0b3JJRCwgew0KICAgICAgICAgIGRlcGFydG1lbnQ6IHRoaXMuYm9va2luZy5kZXBhcnRtZW50LA0KICAgICAgICAgIGRhdGU6IHRoaXMuYm9va2luZy5kYXRlLA0KICAgICAgICAgIHRpbWU6IHRoaXMuYm9va2luZy50aW1lLA0KICAgICAgICAgIGNvbnRhY3Rfbm86IHRoaXMuYm9va2luZy5jb250YWN0X25vLA0KICAgICAgICAgIGVtYWlsOiB0aGlzLmJvb2tpbmcuZW1haWwNCiAgICAgICAgfSkNCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQ0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gJ0Jvb2tlZCBTdWNjZXNzZnVsJykgew0KICAgICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsNCiAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgew0KICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2FzIG1hZGUgYW5kIHRoZSBzZXJ2ZXIgcmVzcG9uZGVkIHdpdGggYSBzdGF0dXMgY29kZQ0KICAgICAgICAgICAgLy8gdGhhdCBmYWxscyBvdXQgb2YgdGhlIHJhbmdlIG9mIDJ4eA0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5zdGF0dXMpDQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmhlYWRlcnMpDQogICAgICAgICAgICAvLyAgIGN1cnJlbnRPYmplY3Quc2VydmVyRXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlDQogICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGJ1dCBubyByZXNwb25zZSB3YXMgcmVjZWl2ZWQNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVxdWVzdCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBTb21ldGhpbmcgaGFwcGVuZWQgaW4gc2V0dGluZyB1cCB0aGUgcmVxdWVzdCB0aGF0IHRyaWdnZXJlZCBhbiBFcnJvcg0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3InLCBlcnJvci5tZXNzYWdlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IuY29uZmlnKQ0KICAgICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICBhbGVydCgnUGxlYXNlIGZpbGwgdGhlIHJlcXVpcmVkIGZpZWxkcycpDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Booking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Booking.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div class=\"booking\">\r\n    <form>\r\n        <h3>Make an Appointment</h3>\r\n        <select class=\"form-select wide\" id=\"default-select\" @change=\"getDoctors()\" v-model.trim='booking.department' required>\r\n            <option value=\"\">Select Department</option>\r\n            <option v-for=\"(dept) in departments\" :key=\"dept\">\r\n            {{dept}}\r\n            </option>\r\n        </select>\r\n        <select class=\"form-select wide\" id=\"default-select\" @change=\"getDate()\" v-model.trim='booking.doctor' required>\r\n            <option value=\"\">Select Doctors</option>\r\n            <option v-for=\"(doct) in doctors\" :key=\"doct.id\" v-bind:value=\"{ doctorID: doct.doctorID, name: doct.name }\">\r\n            {{doct.name}}\r\n            </option>\r\n        </select>\r\n        <select class=\"form-select wide\" id=\"default-select\" v-model.trim='booking.date' required>\r\n            <option value=\"\">Select Date</option>\r\n            <option v-for=\"(sch) in schedules\" :key=\"sch.id\">\r\n            {{sch.date}}\r\n            </option>\r\n        </select>\r\n        <!-- <input id=\"datepicker\" placeholder=\"Pick date\" v-model.trim='booking.date' required/> -->\r\n        <input id=\"datepicker2\" placeholder=\"HH:MM:SS\" v-model.trim='booking.time' required/>\r\n        <input type=\"text\"  placeholder=\"Phone no.\" v-model.trim='booking.contact_no' required/>\r\n        <input type=\"email\"  placeholder=\"Email\" v-model.trim='booking.email' required/>\r\n        <button type=\"button\" class=\"boxed-btn3\" v-on:click=\"addAppointment()\">Confirm</button>\r\n    </form>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// import router from '../router'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Booking',\r\n  data () {\r\n    return {\r\n      user_id: '',\r\n      departments: ['General', 'Cardiologist', 'Neurologist'],\r\n      doctors: [],\r\n      schedules: [],\r\n      booking: {\r\n        department: '',\r\n        doctor: '',\r\n        date: '',\r\n        time: '',\r\n        contact_no: '',\r\n        email: ''\r\n      }\r\n    }\r\n  },\r\n  beforeCreate: function () {\r\n    document.body.classList.add('booking')\r\n  },\r\n  created () {\r\n    this.user_id = this.$route.params.id\r\n    // this.url = '../../static/img/doctors/6.png'\r\n  },\r\n  methods: {\r\n    getDoctors: async function () {\r\n      if (this.booking.department !== '') {\r\n        await axios.get('http://localhost:8080/Project/REST-API/user/' + this.user_id + '/' + this.booking.department)\r\n          .then(response => {\r\n            console.log(response.data)\r\n            this.doctors = response.data\r\n          })\r\n          .catch(function (error) {\r\n            // currentObject.serverError = true\r\n            if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n              console.log(error.response.data)\r\n              console.log(error.response.status)\r\n              console.log(error.response.headers)\r\n            //   currentObject.serverErrorMessage = error.response.data.message\r\n            } else if (error.request) {\r\n            // The request was made but no response was received\r\n              console.log(error.request)\r\n            } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n              console.log('Error', error.message)\r\n            }\r\n            console.log(error.config)\r\n          })\r\n      }\r\n    },\r\n    getDate: async function () {\r\n      if (this.booking.doctor.doctorID !== '') {\r\n        await axios.get('http://localhost:8080/Project/REST-API/doctor/' + this.user_id + '/' + this.booking.doctor.doctorID)\r\n          .then(response => {\r\n            console.log(response.data)\r\n            this.schedules = response.data\r\n          })\r\n          .catch(function (error) {\r\n            // currentObject.serverError = true\r\n            if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n              console.log(error.response.data)\r\n              console.log(error.response.status)\r\n              console.log(error.response.headers)\r\n            //   currentObject.serverErrorMessage = error.response.data.message\r\n            } else if (error.request) {\r\n            // The request was made but no response was received\r\n              console.log(error.request)\r\n            } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n              console.log('Error', error.message)\r\n            }\r\n            console.log(error.config)\r\n          })\r\n      }\r\n    },\r\n    addAppointment: async function () {\r\n      if (this.booking.department && this.booking.doctor.doctorID && this.booking.date && this.booking.time && this.booking.email) {\r\n        await axios.post('http://localhost:8080/Project/REST-API/user/' + this.user_id + '/addbooking/' + this.booking.doctor.doctorID, {\r\n          department: this.booking.department,\r\n          date: this.booking.date,\r\n          time: this.booking.time,\r\n          contact_no: this.booking.contact_no,\r\n          email: this.booking.email\r\n        })\r\n          .then(response => {\r\n            // console.log(response.data)\r\n            // eslint-disable-next-line eqeqeq\r\n            if (response.data == 'Booked Successful') {\r\n              alert(response.data)\r\n            } else {\r\n              alert(response.data)\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n              console.log(error.response.data)\r\n              console.log(error.response.status)\r\n              console.log(error.response.headers)\r\n            //   currentObject.serverErrorMessage = error.response.data.message\r\n            } else if (error.request) {\r\n            // The request was made but no response was received\r\n              console.log(error.request)\r\n            } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n              console.log('Error', error.message)\r\n            }\r\n            console.log(error.config)\r\n          })\r\n      } else {\r\n        alert('Please fill the required fields')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style src=\"../../static/css/booking.css\" scoped></style>\r\n"]}]}
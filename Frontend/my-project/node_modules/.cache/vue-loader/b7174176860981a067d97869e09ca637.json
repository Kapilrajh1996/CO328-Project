{"remainingRequest":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\src\\components\\UserBookingTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\src\\components\\UserBookingTable.vue","mtime":1597254665895},{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\Testing\\Source Code\\Frontend\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcicNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnVXNlckJvb2tpbmdUYWJsZScsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICB1c2VyX2lkOiAnJywNCg0KICAgICAgYm9va2luZ3M6IHt9DQogICAgfQ0KICB9LA0KICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3VzZXJib29raW5ndGFibGUnKQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLnVzZXJfaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQNCiAgICB0aGlzLmdldF9ib29raW5ncygpDQogIH0sDQogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsNCiAgICB0aGlzLiRyb290LiRvbigndXBkYXRlVXNlckJvb2tpbmdUYWJsZScsICh0ZXh0KSA9PiB7IC8vIGhlcmUgeW91IG5lZWQgdG8gdXNlIHRoZSBhcnJvdyBmdW5jdGlvbg0KICAgICAgLy8gY29uc29sZS5sb2codGV4dCkNCiAgICAgIHRoaXMuZ2V0X2Jvb2tpbmdzKCkNCiAgICB9KQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0X2Jvb2tpbmdzOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICBjb25zdCBjdXJyZW50T2JqZWN0ID0gdGhpcw0KICAgICAgYXdhaXQgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvUHJvamVjdC9SRVNULUFQSS91c2VyLycgKyB0aGlzLnVzZXJfaWQgKyAnL2Jvb2tpbmdzJykNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXENCiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSAnJykgew0KICAgICAgICAgICAgdGhpcy5ib29raW5ncyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdudWxsJykNCiAgICAgICAgICAgIHRoaXMuYm9va2luZ3MgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICAgICAgY3VycmVudE9iamVjdC5zZXJ2ZXJFcnJvciA9IHRydWUNCiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGFuZCB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGEgc3RhdHVzIGNvZGUNCiAgICAgICAgICAgIC8vIHRoYXQgZmFsbHMgb3V0IG9mIHRoZSByYW5nZSBvZiAyeHgNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpDQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5zdGF0dXMpDQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5oZWFkZXJzKQ0KICAgICAgICAgICAgY3VycmVudE9iamVjdC5zZXJ2ZXJFcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UNCiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHsNCiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdhcyBtYWRlIGJ1dCBubyByZXNwb25zZSB3YXMgcmVjZWl2ZWQNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlcXVlc3QpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIFNvbWV0aGluZyBoYXBwZW5lZCBpbiBzZXR0aW5nIHVwIHRoZSByZXF1ZXN0IHRoYXQgdHJpZ2dlcmVkIGFuIEVycm9yDQogICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3InLCBlcnJvci5tZXNzYWdlKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5jb25maWcpDQogICAgICAgIH0pDQogICAgfSwNCiAgICBjYW5jZWxfYXBwb2ludG1lbnQ6IGFzeW5jIGZ1bmN0aW9uIChib29raW5naWQpIHsNCiAgICAgIGNvbnN0IGN1cnJlbnRPYmplY3QgPSB0aGlzDQogICAgICBhd2FpdCBheGlvcy5kZWxldGUoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9Qcm9qZWN0L1JFU1QtQVBJL3VzZXIvJyArIHRoaXMudXNlcl9pZCArICcvZGVsZXRlYm9va2luZy8nICsgYm9va2luZ2lkKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQ0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICdCb29raW5nIENhbmNlbGxlZCBTdWNjZXNzZnVsbHknKSB7DQogICAgICAgICAgICB0aGlzLmdldF9ib29raW5ncygpDQogICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgndXBkYXRlRG9jdG9yQm9va2luZ1RhYmxlJywgJ0Jvb2tlZCBTdWNjZXNzZnVsJykNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICAgIHRoaXMuZ2V0X2Jvb2tpbmdzKCkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsNCiAgICAgICAgICBjdXJyZW50T2JqZWN0LnNlcnZlckVycm9yID0gdHJ1ZQ0KICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgew0KICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2FzIG1hZGUgYW5kIHRoZSBzZXJ2ZXIgcmVzcG9uZGVkIHdpdGggYSBzdGF0dXMgY29kZQ0KICAgICAgICAgICAgLy8gdGhhdCBmYWxscyBvdXQgb2YgdGhlIHJhbmdlIG9mIDJ4eA0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YSkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLnN0YXR1cykNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmhlYWRlcnMpDQogICAgICAgICAgICBjdXJyZW50T2JqZWN0LnNlcnZlckVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZQ0KICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkgew0KICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2FzIG1hZGUgYnV0IG5vIHJlc3BvbnNlIHdhcyByZWNlaXZlZA0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVxdWVzdCkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8gU29tZXRoaW5nIGhhcHBlbmVkIGluIHNldHRpbmcgdXAgdGhlIHJlcXVlc3QgdGhhdCB0cmlnZ2VyZWQgYW4gRXJyb3INCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcicsIGVycm9yLm1lc3NhZ2UpDQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLmNvbmZpZykNCiAgICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["UserBookingTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserBookingTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div id=\"userbookingtable\">\r\n    <!-- <div class=\"limiter\"> -->\r\n      <!-- <div class=\"container-table100\"> -->\r\n        <div class=\"wrap-table100\">\r\n          <div class=\"table100 ver1 m-b-10\">\r\n            <table data-vertable=\"ver1\">\r\n              <thead>\r\n                <tr class=\"row100 head\">\r\n                  <th class=\"column100 column1\" data-column=\"column1\">ID</th>\r\n                  <th class=\"column100 column2\" data-column=\"column2\" style=\"width: 30%;\">Doctor Name</th>\r\n                  <th class=\"column100 column3\" data-column=\"column3\">Date</th>\r\n                  <th class=\"column100 column4\" data-column=\"column4\">Time</th>\r\n                  <th class=\"column100 column7\" data-column=\"column7\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr class=\"row100\" v-for=\"(booking, index) in bookings\" :key=\"index\">\r\n                  <td class=\"column100 column1\" data-column=\"column1\">{{index}}</td>\r\n                  <td class=\"column100 column2\" data-column=\"column2\">{{booking.name}}</td>\r\n                  <td class=\"column100 column3\" data-column=\"column3\">{{booking.date}}</td>\r\n                  <td class=\"column100 column4\" data-column=\"column4\">{{booking.time}}</td>\r\n                  <button type=\"button\" class=\"cancel_button\" v-on:click=\"cancel_appointment(booking.bookingID)\">Cancel</button>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      <!-- </div> -->\r\n    <!-- </div> -->\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// import router from '../router'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserBookingTable',\r\n  data () {\r\n    return {\r\n      user_id: '',\r\n\r\n      bookings: {}\r\n    }\r\n  },\r\n  beforeCreate: function () {\r\n    document.body.classList.add('userbookingtable')\r\n  },\r\n  created () {\r\n    this.user_id = this.$route.params.id\r\n    this.get_bookings()\r\n  },\r\n  mounted: function () {\r\n    this.$root.$on('updateUserBookingTable', (text) => { // here you need to use the arrow function\r\n      // console.log(text)\r\n      this.get_bookings()\r\n    })\r\n  },\r\n  methods: {\r\n    get_bookings: async function () {\r\n      const currentObject = this\r\n      await axios.get('http://localhost:8080/Project/REST-API/user/' + this.user_id + '/bookings')\r\n        .then(response => {\r\n          // eslint-disable-next-line eqeqeq\r\n          if (response.data != '') {\r\n            this.bookings = response.data\r\n            // console.log(response.data)\r\n          } else {\r\n            // console.log('null')\r\n            this.bookings = response.data\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          currentObject.serverError = true\r\n          if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data)\r\n            console.log(error.response.status)\r\n            console.log(error.response.headers)\r\n            currentObject.serverErrorMessage = error.response.data.message\r\n          } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request)\r\n          } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message)\r\n          }\r\n          console.log(error.config)\r\n        })\r\n    },\r\n    cancel_appointment: async function (bookingid) {\r\n      const currentObject = this\r\n      await axios.delete('http://localhost:8080/Project/REST-API/user/' + this.user_id + '/deletebooking/' + bookingid)\r\n        .then(response => {\r\n          // eslint-disable-next-line eqeqeq\r\n          if (response.data == 'Booking Cancelled Successfully') {\r\n            this.get_bookings()\r\n            alert(response.data)\r\n            this.$root.$emit('updateDoctorBookingTable', 'Booked Successful')\r\n          } else {\r\n            alert(response.data)\r\n            this.get_bookings()\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          currentObject.serverError = true\r\n          if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data)\r\n            console.log(error.response.status)\r\n            console.log(error.response.headers)\r\n            currentObject.serverErrorMessage = error.response.data.message\r\n          } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.log(error.request)\r\n          } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message)\r\n          }\r\n          console.log(error.config)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  /* Change cursor type */\r\n  .cursor_type {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .cancel_button {\r\n    margin-top: 14px;\r\n    margin-bottom: 12px;\r\n    display: inline-block;\r\n    padding: 3px 20px;\r\n    font-family: Montserrat-Regular;\r\n    font-size: 14px;\r\n    line-height: 1.4;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    outline: none;\r\n    color: rgb(255, 255, 255);\r\n    background-color: #e61212;\r\n    border: none;\r\n    border-radius: 15px;\r\n    box-shadow: 0 5px #999;\r\n  }\r\n\r\n  .cancel_button:hover {background-color: #96141f}\r\n\r\n  .cancel_button:active {\r\n    background-color: #96141f;\r\n    box-shadow: 0 3px #666;\r\n    transform: translateY(2px);\r\n  }\r\n</style>\r\n<style src=\"../../static/css/table.css\" scoped>\r\n</style>\r\n"]}]}